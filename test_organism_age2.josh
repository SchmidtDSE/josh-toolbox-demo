# Test: organism attributes with different export methods

start unit count
end unit

start unit m
  alias meter
  alias meters
end unit

start simulation TestOrg
  grid.size = 10 m
  grid.low = 0 m latitude, 0 m longitude
  grid.high = 30 m latitude, 30 m longitude
  steps.low = 0 count
  steps.high = 10 count
  exportFiles.patch = "file:///workspace/results/test_org2_{replicate}.csv"
end simulation

start patch Default
  Thing.init = create Thing

  # Try different export methods
  export.thingCount.step = count(Thing)
  export.sumAge.step = sum(Thing.age)
  export.meanAge.step = mean(Thing.age)

  # Try accessing via first() if available
  # export.firstAge.step = first(Thing).age
end patch

start organism Thing
  age.init = 0 count
  age.step = prior.age + 1 count

  # Also export at organism level
  export.myAge.step = age
end organism
